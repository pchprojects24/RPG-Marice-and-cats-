<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Marice &amp; Cats â€” House Adventure</title>
  <!--
    ===================================================
    Marice & Cats â€” House Adventure
    A Zelda-style 2D top-down prototype
    ===================================================

    CONTROLS:
      Keyboard:
        - WASD or Arrow Keys: Move (grid-based)
        - E / Space / Enter: Interact / Advance dialogue
      Mobile:
        - On-screen D-pad: Move
        - INTERACT button: Interact / Advance dialogue

    HOW TO PLAY:
      1. Explore the main floor. Talk to Alice on her cat tree.
      2. Find Purrpops in the kitchen cupboards and give them to Alice.
      3. Alice hints about the Basement Key under the sofa blanket.
      4. Unlock the basement door and go downstairs.
      5. Find Olive under the treadmill. Give her Purrpops too.
      6. Olive gives you a Laundry Basket â€” clear the stairs.
      7. Go upstairs, find Beatrice under her blanket.
      8. Give Beatrice a plate of Shrimp & Salmon Feast.
      9. Enjoy the ending!

    DEPLOY VIA GITHUB PAGES:
      1. Push this repo to GitHub.
      2. Go to Settings â†’ Pages.
      3. Set source to the branch containing these files (root /).
      4. Save â€” the site will be live at https://<user>.github.io/<repo>/

    ASSETS:
      Place cat/character portraits (512x512 PNG) in assets/portraits/:
        - marice_portrait_512.png
        - alice_portrait_512.png
        - olive_portrait_512.png
        - beatrice_portrait_512.png
  -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div id="game-container">

    <!-- HUD -->
    <div id="hud">
      <span id="floor-label">Main Floor</span>
      <span id="quest-counter">Objectives: 0/3 cats fed</span>
      <span id="interact-prompt">E: Interact</span>
    </div>

    <!-- Save indicator -->
    <div id="save-indicator">Saved</div>

    <!-- Controls hint overlay (first-time) -->
    <div id="controls-hint">
      <div>WASD / Arrows to move</div>
      <div>E / Space to interact</div>
    </div>

    <!-- Floor transition fade overlay -->
    <div id="transition-overlay">
      <span id="transition-label"></span>
    </div>

    <!-- Toast notifications -->
    <div id="toast" role="status" aria-live="polite" aria-atomic="true"></div>

    <!-- Game Canvas -->
    <canvas id="game-canvas"></canvas>

    <!-- CRT Overlay & Vignette -->
    <div id="crt-overlay"></div>

    <!-- Inventory Bar -->
    <div id="inventory-bar"></div>

    <!-- Mobile Controls -->
    <div id="mobile-controls">
      <!-- D-Pad -->
      <div id="dpad">
        <div class="dpad-btn empty"></div>
        <button id="btn-up" class="dpad-btn" aria-label="Up">&#9650;</button>
        <div class="dpad-btn empty"></div>
        <button id="btn-left" class="dpad-btn" aria-label="Left">&#9664;</button>
        <div class="dpad-btn empty"></div>
        <button id="btn-right" class="dpad-btn" aria-label="Right">&#9654;</button>
        <div class="dpad-btn empty"></div>
        <button id="btn-down" class="dpad-btn" aria-label="Down">&#9660;</button>
        <div class="dpad-btn empty"></div>
      </div>
      <!-- Action Buttons -->
      <div id="action-buttons">
        <button id="btn-interact" class="action-btn" disabled aria-label="Interact">INTERACT</button>
      </div>
    </div>

    <!-- Dialogue Overlay -->
    <div id="dialogue-overlay" role="dialog" aria-labelledby="dialogue-speaker" aria-describedby="dialogue-text" aria-modal="true" aria-hidden="true">
      <div id="dialogue-box">
        <div id="dialogue-portraits">
          <img id="dialogue-portrait-cat" class="dialogue-portrait" src="" alt="Character portrait">
          <img id="dialogue-portrait-marice" class="dialogue-portrait" src="" alt="Marice portrait">
        </div>
        <div id="dialogue-speaker">Speaker</div>
        <div id="dialogue-text">Dialogue text goes here...</div>
        <div id="dialogue-advance">Tap / Space / Enter to continue</div>
      </div>
    </div>

    <!-- Title Screen -->
    <div id="title-screen">
      <h1>Marice &amp; Cats</h1>
      <h2>House Adventure</h2>
      <div class="subtitle">
        Find Alice, Olive, and Beatrice!<br>
        Feed the cats. Explore the house. Get snuggles.
      </div>
      <button id="btn-new-game" class="title-btn">New Game</button>
      <button id="btn-continue" class="title-btn">Continue</button>
    </div>

    <!-- Code Entry Overlay -->
    <div id="numpad-overlay">
      <div id="numpad-box">
        <div id="numpad-title">ğŸ” Enter Door Code</div>
        <input id="numpad-input" type="text" inputmode="numeric" maxlength="4" placeholder="____" autocomplete="off" aria-label="Door code">
        <div id="numpad-error"></div>
        <button id="numpad-btn-enter" class="numpad-enter-btn">Submit</button>
        <button id="numpad-btn-cancel" class="numpad-cancel-btn">Cancel</button>
      </div>
    </div>

    <!-- Ending Overlay -->
    <div id="ending-overlay">
      <h1>Snuggle Pile Achieved</h1>
      <div id="ending-bed">
        <div class="bed-headboard"></div>
        <div class="bed-pillow marice"><img src="assets/portraits/marice_portrait_512.png" alt="Marice"></div>
        <div class="bed-pillow alice"><img src="assets/portraits/alice_portrait_512.png" alt="Alice"></div>
        <div class="bed-pillow olive"><img src="assets/portraits/olive_portrait_512.png" alt="Olive"></div>
        <div class="bed-pillow beatrice"><img src="assets/portraits/beatrice_portrait_512.png" alt="Beatrice"></div>
        <div class="bed-blanket"></div>
      </div>
      <p id="ending-line">Marice: "This is what I've wanted. My three girls snuggling with me."</p>
      <p class="ending-sub">
        Marice finally settles into bed with Alice, Olive, and Beatrice curled close â€” a cozy house,
        full hearts, and a perfect snuggle pile.
      </p>
      <button id="btn-restart" class="title-btn">Play Again</button>
    </div>

    <!-- Quest Log Panel -->
    <div id="quest-panel">
      <div class="quest-panel-header">
        <h3>ğŸ“‹ Quest Log</h3>
        <button id="btn-close-quest" class="close-btn">âœ•</button>
      </div>
      <div id="quest-list">
        <div class="quest-item">
          <span class="quest-icon">ğŸ±</span>
          <span class="quest-text">Find and feed Alice</span>
          <span class="quest-status pending">â³</span>
        </div>
        <div class="quest-item">
          <span class="quest-icon">ğŸ±</span>
          <span class="quest-text">Find and feed Olive</span>
          <span class="quest-status pending">â³</span>
        </div>
        <div class="quest-item">
          <span class="quest-icon">ğŸ±</span>
          <span class="quest-text">Find and feed Beatrice</span>
          <span class="quest-status pending">â³</span>
        </div>
      </div>
    </div>

    <!-- Settings Menu -->
    <div id="settings-panel">
      <div class="settings-panel-header">
        <h3>âš™ï¸ Settings</h3>
        <button id="btn-close-settings" class="close-btn">âœ•</button>
      </div>
      <div id="settings-content">
        <div class="setting-item">
          <label for="sfx-volume">Sound Effects Volume:</label>
          <input type="range" id="sfx-volume" min="0" max="100" value="70">
          <span id="sfx-value">70%</span>
        </div>
        <div class="setting-item">
          <label for="music-volume">Music Volume:</label>
          <input type="range" id="music-volume" min="0" max="100" value="50">
          <span id="music-value">50%</span>
        </div>
        <div class="setting-item">
          <label>
            <input type="checkbox" id="screen-shake" checked>
            Enable Screen Shake Effects
          </label>
        </div>
        <div class="setting-item">
          <label>
            <input type="checkbox" id="particle-effects" checked>
            Enable Particle Effects
          </label>
        </div>
        <button id="btn-save-settings" class="title-btn">Save Settings</button>
      </div>
    </div>

    <!-- Bottom Action Buttons -->
    <div id="bottom-buttons">
      <button id="btn-hint" class="hud-btn" aria-label="Get hint">ğŸ’¡</button>
      <button id="btn-toggle-quest" class="hud-btn">ğŸ“‹</button>
      <button id="btn-toggle-settings" class="hud-btn">âš™ï¸</button>
    </div>

  </div>

  <!-- Data scripts (must load before game) -->
  <script src="data/maps.js"></script>
  <script src="data/dialogue.js"></script>
  <!-- Game engine (state, audio, dialogue, world, render, save) -->
  <script src="game-engine.js"></script>
  <!-- Game entry (numpad, title, ending, init) -->
  <script src="game-main.js"></script>

</body>
</html>
